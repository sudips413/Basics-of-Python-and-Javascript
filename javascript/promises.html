<!DOCTYPE html>
<html lang="en">
    <head>
        <title>
            Promises
        </title>
       
    </head>
    <body>
        <div class="row">
            <p id="result">

            </p>
            <p id="cookie"></p>
        </div>
        <script>
            function setCookie(cname, cvalue, exdays) {
              var d = new Date();
              d.setTime(d.getTime() + (exdays*24*60*60*1000));
              var expires = "expires="+ d.toUTCString();
              document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
            }
            console.log("hello");
            console.log(document.cookie);
            let x = document.cookie;
            function myDisplayer(some) {
              document.getElementById("result").innerHTML = some;
              document.getElementById("cookie").innerHTML = x;
            }
            
            let myPromise = new Promise(function(myResolve, myReject) {
              let x = 0;
              if (x == 0) {
                myResolve("success");
                setCookie("username", "John Doe", 365);
              } else {
                myReject("Error");
              }
            });
            
            myPromise.then(
              function(value) {
                myDisplayer(value);
            },
              function(error) {
                myDisplayer(error);
            }
            );
            </script>

    </body>
    
</html>